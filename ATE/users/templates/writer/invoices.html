{% extends 'users/base.html' %}
{% block content %}

<!-- navbar tabs area -->
<ul class="nav nav-tabs" id="myTab" role="tablist">
  <!-----------All Invoices Tab---------->
  <li class="nav-item" role="presentation">
    <button
      class="nav-link active"
      id="allInvoices-tab"
      data-bs-toggle="tab"
      data-bs-target="#allInvoices"
      type="button"
      role="tab"
      aria-controls="allInvoices"
      aria-selected="true"
      style="color: #198787; font-size: medium; font-weight: 600"
    >
      All Invoices
    </button>
  </li>

  <!-----------Late Invoices Tab---------->
  <li class="nav-item" role="presentation">
    <button
      class="nav-link"
      id="pendingInvoices-tab"
      data-bs-toggle="tab"
      data-bs-target="#pendingInvoices"
      type="button"
      role="tab"
      aria-controls="pendingInvoices"
      aria-selected="false"
      style="color: #198787; font-size: medium; font-weight: 600"
    >
      Late Invoices
    </button>
  </li>

  <!-----------Paid Invoices Tab---------->
  <li class="nav-item" role="presentation">
    <button
      class="nav-link"
      id="paidInvoices-tab"
      data-bs-toggle="tab"
      data-bs-target="#paidInvoices"
      type="button"
      role="tab"
      aria-controls="paidInvoices"
      aria-selected="false"
      style="color: #198787; font-size: medium; font-weight: 600"
    >
      Paid Invoices
    </button>
  </li>
</ul>

<!-- tabs content area -->
<div class="tab-content" id="myTabContent">

  <!-----------All Invoices Tab content---------->
  <div
    class="tab-pane fade show active"
    id="allInvoices"
    role="tabpanel"
    aria-labelledby="allInvoices-tab"
  >
    <div class="">

      <!------------- content -------------->
      <section class="row row-cols-1 p-2">
      {% for project in projects %}
      <div
        class="col p-1 mt-2"
        style="
          border-radius: 10px;
          box-shadow: 0 0.5px 2px rgba(128, 128, 128, 0.651);
        "
      >
        <div class="accordion accordion-flush" id="accordionFlushExample">
          <div class="accordion-item py-4" style="background: none">
            <h2 class="accordion-header" id="flush-heading{{ project.id }}">
              <button
                class="accordion-button collapsed"
                style="background: none"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#flush-collapse{{ project.id }}"
                aria-expanded="false"
                aria-controls="flush-collapse{{ project.id }}"
              >
                <div class="d-flex">
                  <i class="fa fa-image mt-3"></i>
                  <span class="px-4"
                    ><p>
                      {{project.title}}<br /><span class="badge bg-danger m-2"
                        >{{ project.type_of_paper }}</span
                      ><a
                        href="#writer"
                        class="badge bg-success"
                        style="text-decoration: none; z-index: 2"
                        >{{project.username}}</a
                      >
                    </p></span
                  >
                </div>
              </button>
            </h2>
            <div
              id="flush-collapse{{ project.id }}"
              class="accordion-collapse collapse"
              aria-labelledby="flush-heading{{ project.id }}"
              data-bs-parent="#accordionFlushExample"
            >
              <div class="accordion-body">
                <p style="font-size: small">
                  {{ project.paper_instructions|default:'This project does not have a description'}}
                </p>
                <span
                  class="d-flex justify-content-between p-2"
                  style="background-color: whitesmoke; border-radius: 10px"
                >
                  <p style="font-weight: 600">
                    ${{project.price|default:"0"}}/month
                  </p>
                  <span>
                    <a
                      class="btn btn-outline-success p-2"
                      href="{{ project.get_absolute_url }}"
                      style="height: fit-content; font-size: small"
                      >view details</a
                    >
                    </span>
                  </span>
              </div>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </section>

    </div>
  </div>

  <!-----------Assigned Invoices Tab content---------->
  <div
    class="tab-pane fade"
    id="pendingInvoices"
    role="tabpanel"
    aria-labelledby="pendingInvoices-tab"
  >
    <!----------------------- content ------------------->
    <section class="row row-cols-1 p-2">
      {% for project in assigned %}

      <div
        class="col p-1 mt-2"
        style="
          border-radius: 10px;
          box-shadow: 0 1.5px 2px rgba(128, 128, 128, 0.651);
        "
      >
        <div class="accordion accordion-flush" id="accordionFlushExample">
          <div class="accordion-item py-4" style="background: none">
            <h2 class="accordion-header" id="flush-heading{{ project.id }}">
              <button
                class="accordion-button collapsed"
                style="background: none"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#flush-collapse{{ project.id }}"
                aria-expanded="false"
                aria-controls="flush-collapse{{ project.id }}"
              >
                <div class="d-flex">
                  <i class="fa fa-image mt-3"></i>
                  <span class="px-4"
                    ><p>
                      {{project.title}}<br /><span class="badge bg-danger m-2"
                        >{{ project.type_of_paper }}</span
                      ><a
                        href="#writer"
                        class="badge bg-success"
                        style="text-decoration: none; z-index: 2"
                        >{{project.username}}</a
                      >
                    </p></span
                  >
                </div>
              </button>
            </h2>
            <div
              id="flush-collapse{{ project.id }}"
              class="accordion-collapse collapse"
              aria-labelledby="flush-heading{{ project.id }}"
              data-bs-parent="#accordionFlushExample"
            >
              <div class="accordion-body">
                <p style="font-size: small">
                  {{ project.paper_instructions|default:'This project does not have a description'}}
                </p>
                <span
                  class="d-flex justify-content-between p-2"
                  style="background-color: whitesmoke; border-radius: 10px"
                >
                  <p style="font-weight: 600">
                    ${{project.price|default:"0"}}/month
                  </p>
                  <span>
                    <a
                      class="btn btn-outline-success p-2"
                      href="{{ project.get_absolute_url }}"
                      style="height: fit-content; font-size: small"
                      >view details</a
                    >
                    </span>
                  </span>
              </div>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </section>

  </div>

  <!-----------Paid Invoices Tab content---------->
  <div
    class="tab-pane fade"
    id="paidInvoices"
    role="tabpanel"
    aria-labelledby="paidInvoices-tab"
  >

   <!--------------------- content -------------------- -->
   <section class="row row-cols-1 p-2">
      {% for project in assigned %}
      {% if project.complete is True %}
      
      <div
        class="col p-1 mt-2"
        style="
          border-radius: 10px;
          box-shadow: 0 1.5px 2px rgba(128, 128, 128, 0.651);
        "
      >
        <div class="accordion accordion-flush" id="accordionFlushExample">
          <div class="accordion-item py-4" style="background: none">
            <h2 class="accordion-header" id="flush-heading{{ project.id }}">
              <button
                class="accordion-button collapsed"
                style="background: none"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#flush-collapse{{ project.id }}"
                aria-expanded="false"
                aria-controls="flush-collapse{{ project.id }}"
              >
                <div class="d-flex">
                  <i class="fa fa-image mt-3"></i>
                  <span class="px-4"
                    ><p>
                      {{project.title}}<br /><span class="badge bg-danger m-2"
                        >{{ project.type_of_paper }}</span
                      ><a
                        href="#writer"
                        class="badge bg-success"
                        style="text-decoration: none; z-index: 2"
                        >{{project.username}}</a
                      >
                    </p></span
                  >
                </div>
              </button>
            </h2>
            <div
              id="flush-collapse{{ project.id }}"
              class="accordion-collapse collapse"
              aria-labelledby="flush-heading{{ project.id }}"
              data-bs-parent="#accordionFlushExample"
            >
              <div class="accordion-body">
                <p style="font-size: small">
                  {{ project.paper_instructions|default:'This project does not have a description'}}
                </p>
                <span
                  class="d-flex justify-content-between p-2"
                  style="background-color: whitesmoke; border-radius: 10px"
                >
                  <p style="font-weight: 600">
                    ${{project.price|default:"0"}}/month
                  </p>
                  <span>
                    <a
                      class="btn btn-outline-success p-2"
                      href="{{ project.get_absolute_url }}"
                      style="height: fit-content; font-size: small"
                      >view details</a
                    >
                    </span>
                  </span>
              </div>
            </div>
          </div>
        </div>
      </div>
      {% else %}
      <p> <p>
      {% endif %}
      {% endfor %}
    </section>

  </div>
</div>

{% endblock content %}